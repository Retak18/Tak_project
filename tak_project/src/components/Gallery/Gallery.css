* {
    -webkit-box-sizing: border-box;  /* Webkit (Chrome, Safari) : inclut padding/border dans width/height */
    -moz-box-sizing: border-box;    /* Firefox : même chose */
    box-sizing: border-box;
}

*:before, *:after {
    -webkit-box-sizing: border-box; /* Applique aussi aux pseudo-éléments :before et :after */
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}

/* Principal Container */
.row {
    width: 100%;
    max-width: 1170px;
    margin: 0 auto;
    padding: 0;
    clear: both;    /* Évite les problèmes de float */
}

.row img {
    max-width: 100%;    /* Les images ne dépassent jamais leur container */
    height: auto;   /* Garde les proportions */
    padding: 0;
    margin: 0;
}

/* Gallery Section */
.gallery {
    padding: 40px 0 300px;  /* Espace en bas pour le détail de l'item */
    position: relative; /* Pour que les enfants en absolute se positionnent par rapport à lui */
    
}

.gallery ul {
    padding-top: 50px;
    position: relative;  /* Référence pour les positionnements */
    list-style: none;   /* Enlève les puces */
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;  /* Espace entre les items */
    justify-content: center;
}

/* Gallery Item */
.gallery ul li {
    /* float: left; */
    margin: 0 0.8771929824561403%;  /* Marges calculées pour 4 colonnes */
    overflow: hidden;   /* Cache le débordement */
    margin-bottom: 20px;
    width: 23.24561403508772%;  /* Largeur calculée pour 4 colonnes (25% - marges) */
    position: relative; /* Pour les pseudo-éléments hover */
}

/* Image Link */
.gallery ul li .image-link {
    display: block; /* Prend toute la place du li */
    position: relative; /* Pour les pseudo-éléments */
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    line-height: 0;  /* Évite l'espace sous l'image */
    border: none;
    background: none;
    cursor: pointer;
}

/* Icone + effect hover */
.gallery ul li .image-link:before {
    position: absolute;     /* Positionné par rapport au .image-link */
    width: 32px;
    height: 32px;
    top: 40%;
    left: 50%;
    margin: -14px 0 0 -16px;    /* Recentrage précis (-14px = -32px/2, -16px = -32px/2) */
    background: url('data:image/svg+xml;utf8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 960 560" enable-background="new 0 0 960 560" xml:space="preserve"><g><rect x="220" y="260" fill="%23FFFFFF" width="536" height="24"/></g><g><rect x="476" y="4" fill="%23FFFFFF" width="24" height="556"/></g></svg>') no-repeat;
    content: '';    /* Nécessaire pour afficher le pseudo-élément */
    opacity: 0; /* Invisible au repos */
    z-index: 1; /* Au-dessus de l'overlay */
    -webkit-transition: all 0.3s linear;    /* Animation de 0.3s */
    -moz-transition: all 0.3s linear;
    transition: all 0.3s linear;
}

.gallery ul li .image-link:hover:before {
    top: 50%;
    opacity: 1;
}

/* Overlay effect hover */
.gallery ul li .image-link:after {
    position: absolute;
    width: 100%;
    top: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);  /* Overlay noir semi-transparent */
    content: '';
    opacity: 0;
    -webkit-transition: all 0.3s linear;
    -moz-transition: all 0.3s linear;
    transition: all 0.3s linear;

}


.gallery ul li .image-link:hover:after {
    opacity: 1; /* Overlay visible au hover */
}

/* Portfolio Item Detail */
.port {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    padding-top: 100px;
    background: #fafafa;
    z-index: 20;
    overflow: auto;
    border-bottom: 1px solid #d0d0d0;
    
    /* État fermé */
    visibility: hidden;
    opacity: 0;
    transform: translateY(-100%);
    transition: all 0.1s ease-in-out;
}

/* Layout of the item opened */
.port .row {
    display: flex;
    align-items: flex-start;
    gap: 40px;
    padding: 20px;
    min-height: calc(100vh - 120px);    /* Hauteur minimum */
}

.port img {
    width: 50%;  /* Moitié de l'espace */
    max-height: 100%;
    height: auto;
    object-fit: cover;  /* Couvre l'espace sans déformer */
    flex-shrink: 0; /* Ne rétrécit pas */
}

.port .description {
    /* float: left; */
    width: 50%;
    max-height: 100%;
    padding: 0 40px 40px;
    overflow: auto;
}

.port .description h1 {
    font-size: 35px;
    line-height: 2.3;   /* Espacement vertical généreux */
    padding: 0;
    margin: 0;
}

/* Apparition animation */
.port > * {
    opacity: 0;
    transform: translateY(-50px);
    transition: all 0.8s ease-out 0.6s; /* Apparaît un peu après le container */
}

.port.item_open {
    visibility: visible;
    opacity: 1;
    transform: translateY(0%);
    transition: all 1s ease-in-out 0.4s;
}

.port.item_open > * {
    opacity: 1;
    transform: translateY(0);
}

/* Close Button */
.close {
    width: 21px;
    height: 21px;
    /*icone croix*/
    background: url('data:image/svg+xml;utf8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 21 21" enable-background="new 0 0 21 21" xml:space="preserve"><g transform="translate(0,-1031.3622)"><path fill="none" stroke="%23000000" d="M0,1031.4l21,21"/><path fill="none" stroke="%23000000" d="M21,1031.4l-21,21"/></g></svg>') no-repeat;
    position: absolute;
    right: 10px;
    top: -40px; /* CACHÉ au-dessus (40px plus haut) */
    opacity: 0; /* Invisible */
    z-index: 30;    /* Au-dessus des autres éléments */
    border: none;   /* Supprime bordure du bouton */
    cursor: pointer;
    -webkit-transition: all 0.1s ease-in-out;
    -moz-transition: all 0.1s ease-in-out;
    transition: all 0.1s ease-in-out;
}

.item_open .close {
    opacity: 1;
    top: 10px;
    -webkit-transition: all 1s ease-in-out 0.4s;
    -moz-transition: all 1s ease-in-out 0.4s;
    transition: all 1s ease-in-out 0.4s;
}

/* Responsive Design */
@media (max-width: 768px) {
.gallery ul li {
    width: 80%;
    margin: 0 1%;
    padding-right: 40px;
}

.port .row {
    flex-direction: column;
    padding: 20px;
}

.port .description,
.port img {
    width: 100%;
    float: none;
}

.port .description {
    padding: 20px;
}
}

@media (max-width: 480px) {
.gallery ul li {
    width: 100%;
    margin: 0;
}
}
